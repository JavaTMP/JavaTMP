<html>
<head><title>Java Cryptography Samples</title></head>
<body bgcolor=white>
<a href="../index.html"><img src="../javascibut.gif" border=0></a>
<h2 align=center><font color=red>Java Cryptography Samples</font></h2>
<hr size=1>

<ul>
<li><a href="EnvelopFile.txt">EnvelopFile.java: Generate Enveloped file for any data file (Java 1.4 and Bouncy Castle classes)</a>
<li><a href="BCSignFile.txt">BCSignFile.java: Generate CMS/PKCS#7 signature for any data file and Java 2 keystore (Java 1.4 and Bouncy Castle classes)</a>
<li><a href="VerifyP7s.txt">VerifyP7s.java:  Verify CMS/PKCS#7 detached signature file (Java 1.4 and Bouncy Castle classes)</a>
<li><a href="BCVerifyISig.txt">BCVerifyISig.java:  Verify CMS/PKCS#7 included signature file and extract signed data(Java 1.4 and Bouncy Castle classes)</a>
</ul>

<p>
<u>Notes:</u><br><font size=-1>

<b>EnvelopFile</b> generates a standard enveloped data structure for any local file, and using one local
certificate file to specify a single recipient. The output enveloped-data file <b>BCenveloped.p7</b> in binary DER format,
can be unencyrpted (de-enveloped) with any EnvelopedData aware implementation: for example, CAPICOM EnvelopedData.Decrypt().<br><font color=blue>
&nbsp;&nbsp;&nbsp;&nbsp;Usage: java EnvelopFile  <em>[contentfile]  [X509certfile] </em></font>
<p>
<b>BCSignFile</b> generates a standard detached CMS/pkcs#7 signature for any local file, using specified
Java 2 keystore and key alias. Adds entire certificate chain to signature.The output signature file <b>BCsigned.p7s</b> 
in binary DER format, can be verified using any CMS signed data aware implementation: for example, CAPICOM SignedData.Verify(). Note that
the data encrypted is the ASCII data bytes (not UNICODE) of the file data. 
<br><font color=blue>
&nbsp;&nbsp;&nbsp;&nbsp;Usage: java BCSignFile  <em>[contentfile]  [keystore file]  [key-entry alias]  [key password]</em></font>
<p>
<b>VerifyP7s</b> can verify standard CMS/pkcs#7 signatures with <b>detached</b> content. Signature files
in either binary DER or base64 encode binary-DER are supported. For example, detached signature files 
generated by CAPICOM can be verified with VerifyP7s.<br><font color=blue>
&nbsp;&nbsp;&nbsp;&nbsp;Usage: java VerifyP7s  <em>[pkcs#7_signature_file]   [contentfile]</em></font>
<p>

<b>BCVerifyISig</b> can verify standard CMS/pkcs#7 signatures with <b>included</b> content and extract
the signed data. Signature files in either binary DER or base64 encode binary-DER are supported. The signing certificate (containing
 the public key required for signature verification) 
can either be included in the signature file, or optionally can be specified as a certificate-file argument (signerCertFile).
 For example, included content signature files  generated by CAPICOM can be verified with BCVerifyISig.<br><font color=blue>
&nbsp;&nbsp;&nbsp;&nbsp;Usage: java BCVerifyISig  <em>[pkcs#7_signature_file]   [outputContentFile]  [signerCertFile] </em></font>
<p>


<p>
The samples above were compiled with j2sdk1.4.1_02 and require the Bouncy Castle base provider and mail
provider Release 1.19+ for both compilation and at runtime.
</font>

<p>
<a href="http://www.bouncycastle.org/">Legion of the Bouncy Castle</a>

<p><br><br>
<font color=blue>
Michel I. Gallant <br>
neutron@istar.ca
</font>

</body>
</html>
