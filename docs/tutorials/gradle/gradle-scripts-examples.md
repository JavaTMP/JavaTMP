---
title: Gradle Scripts Examples
---
# {{ page.title }}

## Free Gradle script to compile and build a Java project:

The gradle plugin provides the flexibility to configure the plugin based on the project's need as the following
code snippt shows:

```
apply plugin:'java'
task cleanDir << {
    delete "build"
    delete "dist"
}
task createDirs(dependsOn:'cleanDir') << {
    def classes = file("build/classes")
    def dist = file("dist")
    classes.mkdirs()
    dist.mkdirs()
}
compileJava {
    File classesDir = file("build/classes")
    FileTree srcDir = fileTree(dir: "src")
    source srcDir
    destinationDir classesDir
}
task createJar(type: Jar) {
    destinationDir = file("dist")
    baseName = "JavaProject-1.0"
    from "build/classes"
}
createJar.dependsOn compileJava
compileJava.dependsOn createDirs
```

## Migrating from a Maven to Gradle project

- A user needs to rewrite the Maven script to the Gradle script. The following are some of the concepts
that will help you to smoothly migrate from Maven to Gradle:
    - Plugin declaration
    To include a plugin, the user only needs to write the `apply plugin` statement like: `apply plugin: '<plugin name>'`
    - Common conventions
    If a user includes a plugin and follows the same convention, then he can avoid writing any boiler-plate code
    that could save both his time and effort.
    If a user includes a java plugin, the common convention is that the source code location should be `src/main/java`,
    test code location should be `src/test/java`
    - Dependency management. To define the dependency in Gradle, a user has to use the following syntax:

```
dependencies{
    compile(' org.apache.logging.log4j: log4j-core:1.2')
}
```
    - Repositories configuration. This is the location from where you download dependencies.
    In Gradle, you can mention the repository using the following syntax:
```
repositories {
    maven {
        url "http://companylocalrepository.org"
    }
}
```

## Publishing artifacts
- You can execute the `gradle â€“b build.gradle uploadArchives` command to upload the artifacts.
As a part of life cycle, it will build and upload the artifacts.
- Gradle gives you the flexibility to upload the file to a local file system using `flatDir`.
- Gradle has a `maven-publish` plugin to have more control over the publishing process.
It gives you many additional flexibilities along with the default publish tasks.
A user can modify the POM file, publish multiple modules, and so on.
You can find more details at https://docs.gradle.org/current/userguide/publishing_maven.html.
- The following is the sample example of the build file to upload a JAR file generated by a `java plugin`:
```
apply plugin: 'java'
version=1.0
repositories {
  mavenCentral()
}
dependencies {
  compile ('log4j:log4j:1.2.16')
}
uploadArchives {
  repositories {
    maven {
      credentials {
        username "user1"
        password "user1"
      }
      url "http://company.private.repo"
    }
  }
}
```

## Continuous Integration
- If there are compile issues and integration issues, a user can figure out at early stages, rather than it being too late.
- To plan the build and deployment automation solution for any software, we need a different set of tools to work
together to achieve the common goal. Jenkins is one of the integration tools that helps to integrate the complete workflow.
It also works on the concept of plugins; you can add different plugins to Jenkins (for example, Gradle, Git, and so on)
as per your need and configure them to plan the automation flow.

## Generating documentation
- When you apply `Java plugin` to your build file, Gradle provides you a `javadoc` task.
- By default, Gradle generates the initial documentation for your code, even if the user does not mention any Javadoc in the file.
- Run : `gradle clean javadoc`. It will generate the basic Java docs at `{project_root}\build\docs\javadoc`.


