/*!
 * bootstrap-actionable (http://javatmp.com)
 * Actionable plugin is a small Javascript code that help implement click actions for a and button tags by declarative way and provide functionalities to load AJAX content in Bootstrap Modal Wrapper instance.
 *
 * @version 1.0.9
 * @link https://www.javatmp.com/pages/javatmp-actionable-plugin
 * @copyright 2018 JavaTMP
 * @license MIT
 */
!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap"),require("bootstrap-modal-wrapper")):"function"==typeof define&&define.amd?define("bootstrap-actionable",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapActionable=e(t.jQuery,t.BootstrapModalWrapperFactory)}(this,function(u,p){"use strict";var t={loadingHtml:"Loading ...",ajaxHttpMethod:"GET",dataType:"HTML",ajaxContainerReady:"ajax-container-ready"};function e(){this.options=u.extend({},t),this.init(),this.registerJQueryPlugin()}return e.prototype.init=function(){var s=this;u("body").on("click","[actionType]",function(t){t.preventDefault();var e=u(this).attr("actionType")?u(this).attr("actionType"):"ajax",a=u(this).attr("actionScope")?u(this).attr("actionScope"):"html",n=u(this).data("actionableOptions");if("ajax-model"===e){var o=u(this).attr("href")?u(this).attr("href"):u(this).attr("actionLink"),r={message:s.options.loadingHtml,dataType:s.options.dataType,httpMethod:s.options.ajaxHttpMethod,ajaxContainerReadyEventName:s.options.ajaxContainerReady,url:o};u.extend(!0,r,n),p.createAjaxModal(r)}else if("action-ref"===e){var i=u(this).attr("action-ref-by-name")?u(this).attr("action-ref-by-name"):"";if(0<u(a+" [action-name='"+i+"']").length)(c=u(a+" [action-name='"+i+"']:first")).attr("target")?window.open(c.attr("href"),c.attr("target")):u(c).trigger("click")}else if("action-ref-href"===e){var c;i=u(this).attr("action-ref-by-href")?u(this).attr("action-ref-by-href"):"";if(0<u(a+" [href='"+i+"']").length)(c=u(a+" [href='"+i+"']:first")).attr("target")?window.open(c.attr("href"),c.attr("target")):u(c).trigger("click")}else console.log("ERROR: No Action handler attached for actionType=["+e+"]")})},e.prototype.registerJQueryPlugin=function(){u.fn.BootstrapActionable=function(n){function o(t,e){this.options=u.extend(!0,{},{outputElement:t,containerRemoveEventName:"containerRemoveEventName",containerReadyEventName:"containerReadyEventName",ajaxMethodType:"GET",ajaxCache:!0,ajaxDefaultData:{},ajaxDataType:"html",ajaxBeforeSend:null,ajaxSuccess:function(t,e,a){var n=this;u(n.outputElement).html(t).promise().done(function(){setTimeout(function(){u(n.outputElement).trigger(n.containerReadyEventName)},0)})},ajaxError:function(t,e,a){u(this.outputElement).html("Error Loading Request !!!")}},e)}if(o.prototype.populateByLinkEvent=function(t){!function(n){var t=n.linkElement;n.linkEvent.preventDefault();var e=u.Event(n.containerRemoveEventName,{_newTarget:t});u(n.outputElement).trigger(e).promise().done(function(){e.isDefaultPrevented()||u(n.outputElement).off(n.containerReadyEventName).promise().done(function(){u(n.outputElement).off(n.containerRemoveEventName).promise().done(function(){u(n.outputElement).off(e).promise().done(function(){u.ajax({type:n.ajaxMethodType,async:!0,cache:n.ajaxCache,dataType:n.ajaxDataType,url:t.attr("href"),data:n.ajaxDefaultData,beforeSend:function(t,e){if(u.isFunction(n.ajaxBeforeSend))return n.ajaxBeforeSend.call(n,t,e)},success:function(t,e,a){if(u.isFunction(n.ajaxSuccess))return n.ajaxSuccess.call(n,t,e,a)},error:function(t,e,a){if(u.isFunction(n.ajaxError))return n.ajaxError.call(n,t,e,a)}})})})})})}(u.extend(!0,{},this.options,t))},"string"!=typeof n)return this.each(function(t){var e=u(this);if(e.data("BootstrapActionable"))return e.data("BootstrapActionable");var a=new o(e,n);return e.data("BootstrapActionable",a),a});var t=Array.prototype.slice.call(arguments,1);if(u.isFunction(this.data("BootstrapActionable")[n]))return this.data("BootstrapActionable")[n].apply(this.data("BootstrapActionable"),t);throw new Error("Function ["+n+"] does not found in plugin BootstrapActionable")}},new e});