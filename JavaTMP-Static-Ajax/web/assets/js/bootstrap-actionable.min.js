!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap"),require("bootstrap-modal-wrapper")):"function"==typeof define&&define.amd?define("bootstrap-actionable",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapActionable=e(t.jQuery,t.BootstrapModalWrapperFactory)}(this,function(c,s){"use strict";var t={loadingHtml:"Loading ...",ajaxHttpMethod:"GET",dataType:"HTML",ajaxContainerReady:"ajax-container-ready"};function e(){this.options=c.extend({},t),this.init(),this.registerJQueryPlugin()}return e.prototype.init=function(){var i=this;c("body").on("click","[actionType]",function(t){t.preventDefault();var e=c(this).attr("actionType")?c(this).attr("actionType"):"ajax",a=c(this).attr("actionScope")?c(this).attr("actionScope"):"html";if("ajax-model"===e){var n=c(this).attr("href")?c(this).attr("href"):c(this).attr("actionLink");s.createAjaxModal({message:i.options.loadingHtml,dataType:i.options.dataType,httpMethod:i.options.ajaxHttpMethod,ajaxContainerReadyEventName:i.options.ajaxContainerReady,url:n})}else if("action-ref"===e){var o=c(this).attr("action-ref-by-name")?c(this).attr("action-ref-by-name"):"";if(0<c(a+" [action-name='"+o+"']").length)(r=c(a+" [action-name='"+o+"']:first")).attr("target")?window.open(r.attr("href"),r.attr("target")):c(r).trigger("click")}else if("action-ref-href"===e){var r;o=c(this).attr("action-ref-by-href")?c(this).attr("action-ref-by-href"):"";if(0<c(a+" [href='"+o+"']").length)(r=c(a+" [href='"+o+"']:first")).attr("target")?window.open(r.attr("href"),r.attr("target")):c(r).trigger("click")}else console.log("ERROR: No Action handler attached for actionType=["+e+"]")})},e.prototype.registerJQueryPlugin=function(){c.fn.BootstrapActionable=function(n){function o(t,e){this.options=c.extend(!0,{},{outputElement:t,containerRemoveEventName:"containerRemoveEventName",containerReadyEventName:"containerReadyEventName",ajaxBeforeSend:null,ajaxSuccess:null,ajaxError:null},e)}if(o.prototype.populateByLinkEvent=function(t){!function(n){var t=n.linkElement;n.linkEvent.preventDefault();var e=c.Event(n.containerRemoveEventName,{_newTarget:t});c(n.outputElement).trigger(e).promise().done(function(){e.isDefaultPrevented()||c(n.outputElement).off(n.containerReadyEventName).promise().done(function(){c(n.outputElement).off(n.containerRemoveEventName).promise().done(function(){c(n.outputElement).off(e).promise().done(function(){c.ajax({type:javatmp.settings.httpMethod,async:!0,cache:!0,dataType:javatmp.settings.dataType,url:t.attr("href"),data:javatmp.settings.defaultPassData,beforeSend:function(t,e){if(c.isFunction(n.ajaxBeforeSend))return n.ajaxBeforeSend.call(n,t,e)},success:function(t,e,a){if(c.isFunction(n.ajaxSuccess))return n.ajaxSuccess.call(n,t,e,a)},error:function(t,e,a){if(c.isFunction(n.ajaxError))return n.ajaxError.call(n,t,e,a)}})})})})})}(c.extend(!0,{},this.options,t))},"string"!=typeof n)return this.each(function(t){var e=c(this);if(e.data("BootstrapActionable"))return e.data("BootstrapActionable");var a=new o(e,n);return e.data("BootstrapActionable",a),a});var t=Array.prototype.slice.call(arguments,1);if(c.isFunction(this.data("BootstrapActionable")[n]))return this.data("BootstrapActionable")[n].apply(this.data("BootstrapActionable"),t);throw new Error("Function ["+n+"] does not found in plugin BootstrapActionable")}},new e});