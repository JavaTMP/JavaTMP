!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap"),require("bootstrap-modal-wrapper")):"function"==typeof define&&define.amd?define("bootstrap-actionable",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapActionable=e(t.jQuery,t.BootstrapModalWrapperFactory)}(this,function(s,c){"use strict";var t={loadingHtml:"Loading ...",ajaxHttpMethod:"GET",dataType:"HTML",ajaxContainerReady:"ajax-container-ready"};function e(){this.options=s.extend({},t),this.init(),this.registerJQueryPlugin()}return e.prototype.init=function(){var i=this;s("body").on("click","[actionType]",function(t){t.preventDefault();var e=s(this).attr("actionType")?s(this).attr("actionType"):"ajax",a=s(this).attr("actionScope")?s(this).attr("actionScope"):"html";if("ajax-model"===e){var n=s(this).attr("href")?s(this).attr("href"):s(this).attr("actionLink");c.createAjaxModal({message:i.options.loadingHtml,dataType:i.options.dataType,httpMethod:i.options.ajaxHttpMethod,ajaxContainerReadyEventName:i.options.ajaxContainerReady,url:n})}else if("action-ref"===e){var o=s(this).attr("action-ref-by-name")?s(this).attr("action-ref-by-name"):"";if(0<s(a+" [action-name='"+o+"']").length)(r=s(a+" [action-name='"+o+"']:first")).attr("target")?window.open(r.attr("href"),r.attr("target")):s(r).trigger("click")}else if("action-ref-href"===e){var r;o=s(this).attr("action-ref-by-href")?s(this).attr("action-ref-by-href"):"";if(0<s(a+" [href='"+o+"']").length)(r=s(a+" [href='"+o+"']:first")).attr("target")?window.open(r.attr("href"),r.attr("target")):s(r).trigger("click")}else console.log("ERROR: No Action handler attached for actionType=["+e+"]")})},e.prototype.registerJQueryPlugin=function(){s.fn.BootstrapActionable=function(n){function o(t,e){this.options=s.extend(!0,{},{outputElement:t,containerRemoveEventName:"containerRemoveEventName",containerReadyEventName:"containerReadyEventName",ajaxBeforeSend:null,ajaxSuccess:function(t,e,a){var n=this;s(n.outputElement).html(t).promise().done(function(){setTimeout(function(){s(n.outputElement).trigger(javatmp.settings.javaTmpAjaxContainerReady)},0)})},ajaxError:function(t,e,a){s(this.outputElement).html("Error Loading Request !!!")}},e)}if(o.prototype.populateByLinkEvent=function(t){!function(n){var t=n.linkElement;n.linkEvent.preventDefault();var e=s.Event(n.containerRemoveEventName,{_newTarget:t});s(n.outputElement).trigger(e).promise().done(function(){e.isDefaultPrevented()||s(n.outputElement).off(n.containerReadyEventName).promise().done(function(){s(n.outputElement).off(n.containerRemoveEventName).promise().done(function(){s(n.outputElement).off(e).promise().done(function(){s.ajax({type:javatmp.settings.httpMethod,async:!0,cache:!0,dataType:javatmp.settings.dataType,url:t.attr("href"),data:javatmp.settings.defaultPassData,beforeSend:function(t,e){if(s.isFunction(n.ajaxBeforeSend))return n.ajaxBeforeSend.call(n,t,e)},success:function(t,e,a){if(s.isFunction(n.ajaxSuccess))return n.ajaxSuccess.call(n,t,e,a)},error:function(t,e,a){if(s.isFunction(n.ajaxError))return n.ajaxError.call(n,t,e,a)}})})})})})}(s.extend(!0,{},this.options,t))},"string"==typeof n){var t=Array.prototype.slice.call(arguments,1);if(s.isFunction(this.data("BootstrapActionable")[n]))return this.data("BootstrapActionable")[n].apply(this.data("BootstrapActionable"),t);throw new Error("Function ["+n+"] does not found in plugin BootstrapActionable")}return this.each(function(t){var e=s(this);if(e.data("BootstrapActionable"))return e.data("BootstrapActionable");var a=new o(e,n);return e.data("BootstrapActionable",a),a})}},new e});